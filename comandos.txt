D:
cd 'C:\Users\trevh\OneDrive\Escritorio\semestre 2-2023\proyect2'

ls -l Dockerfile
dos2unix Dockerfile

cd backend-config-service
mvn clean install -DskipTests=True
docker build -t cosiobit/backend-config-server .
docker push cosiobit/backend-config-server
cd ../

cd backend-eureka-service
mvn clean install -DskipTests=True
docker build -t cosiobit/backend-eureka-server .
docker push cosiobit/backend-eureka-server
cd ../

cd backend-gateway-service
mvn clean install -DskipTests=True
docker build -t cosiobit/backend-gateway-service .
docker push cosiobit/backend-gateway-service
cd ../

cd backend-marca-service
mvn install -DskipTests=True
docker build -t cosiobit/backend-marca-service .
docker push cosiobit/backend-marca-service
cd ../

cd backend-vehiculo-service
mvn install -DskipTests=True
docker build -t cosiobit/backend-vehiculo-service .
docker push cosiobit/backend-vehiculo-service
cd ../

cd backend-precio-service
mvn install -DskipTests=True
docker build -t cosiobit/backend-precio-service .
docker push cosiobit/backend-precio-service
cd ../

cd backend-reparacion-service
mvn install -DskipTests=True
docker build -t cosiobit/backend-reparacion-service .
docker push cosiobit/backend-reparacion-service
cd ../

cd frontend-service
npm run build
docker build -t cosiobit/frontend-service .
docker push cosiobit/frontend-service
cd ../


---------------------------------------------------------


minikube start
minikube status

cd deployment

kubectl apply -f frontend-deployment-service.yml

kubectl apply -f postgres-secrets.yml
kubectl apply -f postgres-configmap.yml

kubectl apply -f backend-marca-db-deployment-service.yml
kubectl apply -f backend-vehiculo-db-deployment-service.yml
kubectl apply -f backend-precio-db-deployment-service.yml
kubectl apply -f backend-reparacion-db-deployment-service.yml

kubectl apply -f backend-config-deployment-service.yml
kubectl apply -f backend-eureka-deployment-service.yml

kubectl apply -f backend-marca-deployment-service.yml
kubectl apply -f backend-vehiculo-deployment-service.yml
kubectl apply -f backend-precio-deployment-service.yml
kubectl apply -f backend-reparacion-deployment-service.yml

kubectl apply -f backend-gateway-deployment-service.yml


---------------------------------------------------------

kubectl delete deployments frontend-deployment
kubectl delete services frontend-service

kubectl delete deployments postgres
kubectl delete services postgres
kubectl delete PersistentVolumeClaims postgres-persistent-volume-claim
kubectl delete PersistentVolumes postgres-persistent-volume-claim

kubectl delete ConfigMap postgres-config-map

kubectl delete Secret postgres-credentials

kubectl delete deployments backend-config-deployment
kubectl delete services backend-config-service

kubectl delete deployments backend-eureka-deployment
kubectl delete services backend-eureka-service

kubectl delete deployments backend-gateway-deployment
kubectl delete services backend-gateway-service

kubectl delete deployments backend-reparacion-deployment
kubectl delete services backend-reparacion-service

kubectl delete deployments backend-marca-deployment
kubectl delete services backend-marca-service

kubectl delete deployments backend-vehiculo-deployment
kubectl delete services backend-vehiculo-service

kubectl delete deployments backend-precio-deployment
kubectl delete services backend-precio-service
---------------------------------------------------------


kubectl get pods
kubectl get services
kubectl get deployments
kubectl get persistentvolumeclaims
kubectl get persistentvolume
kubectl get configmaps
kubectl get secrets

kubectl get all

kubectl logs <Name pods>
kubectl logs <Name pods> -f

kubectl port-forward <nombre-pod> <puerto-local>:<puerto-contenedor>

kubectl exec -it <Name pods postgres> bash -- psql -h postgres -U postgres

CREATE DATABASE proyect2marca;
CREATE DATABASE proyect2vehiculo;
CREATE DATABASE proyect2precio;
CREATE DATABASE proyect2reparacion;

Para visualizar las base de datos
\l


minikube service frontend-service
minikube tunnel

// Este comando es para abrir una pagina que permite visualizar los pods, services entre otras cosas
minikube dashboard